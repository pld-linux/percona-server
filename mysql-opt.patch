--- percona-server-5.7.25-28/cmake/build_configurations/compiler_options.cmake.orig	2019-02-18 07:11:31.000000000 +0100
+++ percona-server-5.7.25-28/cmake/build_configurations/compiler_options.cmake	2019-02-28 06:43:42.913206001 +0100
@@ -25,17 +25,17 @@ IF(SIZEOF_VOIDP EQUAL 8)
   SET(64BIT 1)
 ENDIF()
 
-SET(CMAKE_CXX_STANDARD 98)
+SET(CMAKE_CXX_STANDARD 11)
  
 # Compiler options
 IF(UNIX)  
-  MY_CHECK_CXX_COMPILER_FLAG("-std=gnu++03" GNU03_SUPPORTED)
+  MY_CHECK_CXX_COMPILER_FLAG("-std=gnu++11" GNU11_SUPPORTED)
 
-  IF(GNU03_SUPPORTED)
+  IF(GNU11_SUPPORTED)
     IF(CMAKE_VERSION VERSION_LESS 3.1.0)
-      SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=gnu++03")
+      SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=gnu++11")
     ELSE()
-      SET(CMAKE_CXX98_EXTENSION_COMPILE_OPTION -std=gnu++03)
+      SET(CMAKE_CXX11_EXTENSION_COMPILE_OPTION -std=gnu++11)
     ENDIF()
   ENDIF()
 
@@ -61,8 +61,8 @@ IF(UNIX)
     IF(C_NO_EXPENSIVE_OPTIMIZATIONS)
       SET(COMMON_C_FLAGS "${COMMON_C_FLAGS} -fno-expensive-optimizations")
     ENDIF()
-    SET(CMAKE_C_FLAGS_DEBUG          "${COMMON_C_FLAGS}")
-    SET(CMAKE_C_FLAGS_RELWITHDEBINFO "-O3 -D_FORTIFY_SOURCE=2 ${COMMON_C_FLAGS}")
+    SET(CMAKE_C_FLAGS_DEBUG          "${CMAKE_C_FLAGS_DEBUG} ${COMMON_C_FLAGS}")
+    SET(CMAKE_C_FLAGS_RELWITHDEBINFO "-O3 -D_FORTIFY_SOURCE=2 ${CMAKE_C_FLAGS_RELWITHDEBINFO} ${COMMON_C_FLAGS}")
   ENDIF()
   IF(CMAKE_COMPILER_IS_GNUCXX)
     SET(COMMON_CXX_FLAGS               "-g -fabi-version=2 -fno-omit-frame-pointer -fno-strict-aliasing")
@@ -95,8 +95,8 @@ IF(UNIX)
   # Default Clang flags
   IF(CMAKE_C_COMPILER_ID MATCHES "Clang")
     SET(COMMON_C_FLAGS               "-g -fno-omit-frame-pointer -fno-strict-aliasing")
-    SET(CMAKE_C_FLAGS_DEBUG          "${COMMON_C_FLAGS}")
-    SET(CMAKE_C_FLAGS_RELWITHDEBINFO "-O3 -D_FORTIFY_SOURCE=2 ${COMMON_C_FLAGS}")
+    SET(CMAKE_C_FLAGS_DEBUG          "${CMAKE_C_FLAGS_DEBUG} ${COMMON_C_FLAGS}")
+    SET(CMAKE_C_FLAGS_RELWITHDEBINFO "-O3 -D_FORTIFY_SOURCE=2 ${CMAKE_C_FLAGS_RELWITHDEBINFO} ${COMMON_C_FLAGS}")
   ENDIF()
   IF(CMAKE_CXX_COMPILER_ID MATCHES "Clang")
     SET(COMMON_CXX_FLAGS               "-g -fno-omit-frame-pointer -fno-strict-aliasing")
@@ -146,10 +146,10 @@ IF(UNIX)
 
       SET(COMMON_C_FLAGS            "-g ${SUNPRO_FLAGS}")
       SET(COMMON_CXX_FLAGS          "-g0 ${SUNPRO_FLAGS}")
-      SET(COMMON_CXX_FLAGS          "${COMMON_CXX_FLAGS} -std=c++03")
-      SET(CMAKE_C_FLAGS_DEBUG       "${COMMON_C_FLAGS}")
+      SET(COMMON_CXX_FLAGS          "${COMMON_CXX_FLAGS} -std=c++11")
+      SET(CMAKE_C_FLAGS_DEBUG       "${CMAKE_C_FLAGS_DEBUG} ${COMMON_C_FLAGS}")
       SET(CMAKE_CXX_FLAGS_DEBUG     "${COMMON_CXX_FLAGS}")
-      SET(CMAKE_C_FLAGS_RELWITHDEBINFO   "-xO3 ${COMMON_C_FLAGS}")
+      SET(CMAKE_C_FLAGS_RELWITHDEBINFO   "-xO3 ${CMAKE_C_FLAGS_RELWITHDEBINFO} ${COMMON_C_FLAGS}")
       SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO "-xO3 ${COMMON_CXX_FLAGS}")
     ENDIF()
   ENDIF()
